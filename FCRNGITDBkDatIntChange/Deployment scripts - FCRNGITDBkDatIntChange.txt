Create New POD:

oc login --server="https://api.ocp-uat.corpuat.danamon.co.id:6443" --insecure-skip-tls-verify -u %username% -p %password%
oc login --server="https://api.ocp-uat.corpuat.danamon.co.id:6443" --insecure-skip-tls-verify -u ngi-core -p P@ssw0rdP@ssw0rd
oc project ngisit



oc new-build --name=td-bkdtdvar-chnge --image-stream=openshift/redhat-openjdk18-openshift:1.1 --binary -n ngisit
oc start-build td-bkdtdvar-chnge --from-file="D:\OpenShift\FCRNGITDBkDatIntChange\17-10-2024\FCRNGITDBkDatIntChange-0.0.0.1.jar" --follow -n ngisit




oc new-app td-bkdtdvar-chnge -n ngisit --as-deployment-config
oc create route edge td-bkdtdvar-chnge --service=td-bkdtdvar-chnge --port=8080 --hostname=td-bkdtdvar-chnge-ngisit.dbankke.uat.danamon.co.id -n ngisit
oc annotate route td-bkdtdvar-chnge --overwrite haproxy.router.openshift.io/timeout=30s


Create or replace Config Map:

oc project ngisit
oc delete cm td-bkdtdvar-chnge-cm
oc delete cm td-bkdtdvar-chnge-commons-cm

oc create configmap td-bkdtdvar-chnge-cm --from-file="D:\OpenShift\FCRNGITDBkDatIntChange\application-td-bkdtdvar-chnge.yml"
oc create configmap td-bkdtdvar-chnge-commons-cm  --from-file="D:\OpenShift\FCRNGITDBkDatIntChange\global.properties"

oc set volume dc/td-bkdtdvar-chnge --add --overwrite=true --name=config-volume --mount-path=/deployments/config -t configmap --configmap-name=td-bkdtdvar-chnge-cm 
oc set volume dc/td-bkdtdvar-chnge --add --overwrite=true --name=commons-volume --mount-path=/deployments/global -t configmap --configmap-name=td-bkdtdvar-chnge-commons-cm

oc set env dc/td-bkdtdvar-chnge TZ=Asia/Jakarta -n ngisit
oc set env dc/td-bkdtdvar-chnge JAVA_TOOL_OPTIONS="-Duser.home=/home/jboss -Duser.name=jboss -Duser.timezone=GMT+07:00 -Xms2048M -Xmx2048M -Djava.security.egd=file:///dev/urandom"
oc set env dc/td-bkdtdvar-chnge GC_MAX_METASPACE_SIZE=1024

oc set env --from=secret/ngi-secret dc/td-bkdtdvar-chnge